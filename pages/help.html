<!DOCTYPE html>
<html>
<head>
  <title>Purchase Upgrade</title>
</head>
<body>  
  <script>
    // Ensure the variables are initialized
    let buy_upgrade = parseInt(localStorage.getItem('buy_upgrade')) || 1;
    let amount_able = parseInt(localStorage.getItem('amount_able')) || 1;

    function purchase_amount() {
      const button = document.getElementById('purchase');
      if (buy_upgrade === 1) {
        button.innerHTML = '10x';
        buy_upgrade = 10;
        amount_able = 10;
      } else if (buy_upgrade === 10) {
        button.innerHTML = '100x';
        buy_upgrade = 100;
        amount_able = 100;
      } else if (buy_upgrade === 100) {
        button.innerHTML = 'Max';
        buy_upgrade = 'Max';
        amount_able = null; // Setting to null as we don't have a specific amount for 'Max'
      } else if (buy_upgrade === 'Max') {
        button.innerHTML = '1x';
        buy_upgrade = 1;
        amount_able = 1;
      }

      localStorage.setItem('buy_upgrade', buy_upgrade);
      localStorage.setItem('amount_able', amount_able);
      console.log('Buy upgrade: ', buy_upgrade, 'Amount able: ', amount_able);
    }

    // Initialize button text based on stored value
    window.onload = function() {
      const button = document.getElementById('purchase');
      if (buy_upgrade === 1) {
        button.innerHTML = '1x';
      } else if (buy_upgrade === 10) {
        button.innerHTML = '10x';
      } else if (buy_upgrade === 100) {
        button.innerHTML = '100x';
      } else if (buy_upgrade === 'Max') {
        button.innerHTML = 'Max';
      }
    }
  </script>
    <button id="purchase" onclick="purchase_amount()">1x</button>
</body>
</html>
